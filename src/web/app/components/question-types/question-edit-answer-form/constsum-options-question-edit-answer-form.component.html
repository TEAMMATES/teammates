<div [attr.aria-label]="getAriaLabel()">
  @for (option of questionDetails.constSumOptions; track option; let i = $index) {
    <div class="form-group row text-start">
      <div class="col-md-5 col-xs-12 text-md-end col-form-label">
        <strong>{{ option }}</strong>
      </div>
      <div class="col-md-7 col-xs-12 text-md-start">
        <input type="number" class="form-control"
          [ngModel]="i < responseDetails.answers.length ? responseDetails.answers[i] : ''"
          (ngModelChange)="triggerResponse(i, $event)"
          [disabled]="isDisabled"
          [attr.aria-label]="getAriaLabelForOption(option)"
          min="0" step="1"
          tmDisableWheel>
      </div>
    </div>
  }
  @if (responseDetails.answers.length !== 0) {
    <div class="form-group row">
      <div class="col-12 col-sm-5 offset-sm-2">
        <button type="button" class="btn btn-light btn-sm" (click)="triggerResponseDetailsChange('answers', [])" [disabled]="isDisabled">Clear Points</button>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        @if (totalAnsweredPoints < totalRequiredPoints) {
          <p class="text-danger"><span class="fa fa-times"></span>
        Actual total is {{ totalAnsweredPoints }}! Distribute the remaining {{ totalRequiredPoints - totalAnsweredPoints }} points.</p>
      }
      @else if (totalAnsweredPoints > totalRequiredPoints) {
        <p class="text-danger"><span class="fa fa-times"></span>
      Actual total is {{ totalAnsweredPoints }}! Remove the extra  {{ totalAnsweredPoints - totalRequiredPoints }} points allocated.</p>
    }
    @else {
      <p class="text-success"><span class="fa fa-check"></span>
    All points distributed!</p>
  }
  @if (isAnyPointsNegative) {
    <p class="text-danger"><span class="fa fa-times"></span>
  Points cannot be negative!</p>
}
@if (isAnyPointAboveMaximum) {
  <p class="text-danger"><span class="fa fa-times"></span>
Points cannot be above: {{ questionDetails.maxPoint }}</p>
}
@if (isAnyPointBelowMinimum) {
  <p class="text-danger"><span class="fa fa-times"></span>
Points cannot be below: {{ questionDetails.minPoint }}</p>
}
@if (questionDetails.distributePointsFor === FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY && !isAllPointsUneven) {
  <p class="text-danger"><span class="fa fa-times"></span>
Multiple options are given same points!</p>
}
@if (questionDetails.distributePointsFor === FeedbackConstantSumDistributePointsType.DISTRIBUTE_ALL_UNEVENLY && isAllPointsUneven) {
  <p class="text-success"><span class="fa fa-check"></span>
All allocated points are different!</p>
}
@if (questionDetails.distributePointsFor === FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY && !isSomePointsUneven) {
  <p class="text-danger"><span class="fa fa-times"></span>
All options are given {{ responseDetails.answers[0] }} points. Please allocate different points to at least one option.</p>
}
@if (questionDetails.distributePointsFor === FeedbackConstantSumDistributePointsType.DISTRIBUTE_SOME_UNEVENLY && isSomePointsUneven) {
  <p class="text-success"><span class="fa fa-check"></span>
At least one option has been allocated different number of points.</p>
}
</div>
</div>
}
</div>
